(self.webpackChunk=self.webpackChunk||[]).push([[397],{51176:(e,t,r)=>{"use strict";r.d(t,{a8:()=>d,oY:()=>_,DB:()=>p,f$:()=>g,z2:()=>v,ZL:()=>h,Tj:()=>m});var a=r(67598),n=r(22087),i=r(54817),o=r(75738),s=r(40273);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u="BUY_IT_AGAIN",d=function(e){return{type:"".concat(u,".UPDATE_FILTER"),filter:e}},_=function(e){return{type:"".concat(u,".RECEIVE_FILTERS"),filters:e}},p=function(e){var t=e.items,r=e.trackingParams,a=e.trackingEventNames;return function(e){return null!=a&&a.click&&e((0,s.L)(r.source_type,a.click,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r))),Promise.resolve().then((function(){return e((0,o.Kk)({items:t,immediate:!0}))}))}},g=function(e){return{type:"".concat(u,".EDIT_STAPLE_PREFERENCES"),preferences:e}},v=function(e){return{type:"".concat(u,".UPDATE_STAPLE_PREFERENCES"),preferences:e}},h=function(e){return{type:"".concat(u,".CLOSE_STAPLE_PREFERENCES"),preferences:e}},m=function(e){return function(t,r){var o=r().global.currentRetailer.id;(0,a.Z)("/v3/retailers/".concat(o,"/staple_preferences/update"),{method:"POST",body:{staple_preferences:e}}).then((function(r){var a;r&&null!==(a=r.meta)&&void 0!==a&&a.triggered_action&&t((0,n.pn)(r.meta.triggered_action)),t(v(e)),t(h(e))})).catch((function(e){console.error(e),t((0,i.h4)({title:"Something went wrong saving Your Staples. Please try again later.",type:"error"}))}))}}},71272:(e,t,r)=>{"use strict";r.d(t,{Xh:()=>f,T4:()=>b,xy:()=>k,P4:()=>T,C7:()=>C});var a=r(67598),n=r(75738),i=r(72853),o=r(7054),s=r(47858),c=r(40273),l=r(36480),u=r(68),d=r.n(u),_=r(7438),p=r(87491),g="RETAILERS";function v(e){return{type:"".concat(g,".RECEIVE_RETAILERS_ERROR"),error:e}}function h(e){return{type:"".concat(g,".RECEIVE_SERVICE_OPTIONS"),response:e}}function m(){return{type:"".concat(g,".FETCH_SERVICE_OPTIONS")}}function f(){return function(e,t){t().models.retailers.retailersLoading||(e({type:"".concat(g,".FETCH_RETAILERS")}),(0,a.Z)("/v3/retailers").then((function(t){return e(function(e){return{type:"".concat(g,".RECEIVE_RETAILERS"),response:e}}(t))})).catch((function(t){return e(v(t.statusText))})))}}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r,n){r(m()),r({type:"".concat(g,".FETCH_SERVICE_OPTIONS")}),(0,a.Z)(e,{body:t}).then((function(e){return r(h(e))})).catch((function(e){return r(v(e.statusText))}))}}var y={};function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return function(n,i){var o=i().models.retailers,s=!p.isUndefined(e),c=s?"/v3/retailers/".concat(e,"/availability"):"/v3/retailers/availability",l=s?[e]:o.retailerList.map((function(e){return e.id})),u=y[c],d=Date.now();u&&u+r>d||i().global.idleMinutes>10||(y[c]=d,n({type:"".concat(g,".FETCH_RETAILERS_AVAILABILITY"),retailerIds:l}),(0,a.Z)(c,{body:t}).then((function(e){return n(R(e))})).catch((function(e){return n(w(e.statusText))})))}}function R(e){return{type:"".concat(g,".RECEIVE_RETAILERS_AVAILABILITY"),response:e}}function w(e){return{type:"".concat(g,".RECEIVE_RETAILERS_AVAILABILITY_ERROR"),error:e}}var T=function(e){var t=e.retailer,r=e.categoryLabel,a=void 0===r?null:r,u=e.skipRetainCurrentPath,g=void 0!==u&&u,v=e.popularPresent,h=void 0!==v&&v,m=e.activeServiceType;return function(e,r){var u=t.trackingParams&&t.trackingParams.inventory_area_id,v=r(),f=v.global.trackingParams.warehouse_id.toString(),b=v.global.currentUser.active_service_type,y=Backbone.history.getFragment(),k=t.slug,R="".concat(k,"/storefront"),w=!g&&function(e){return p.any(e.match(/partner_recipe_wip|partner_recipe|promotions/))}(y),T=t.id===v.global.currentRetailer.id,C=b===m,P=y.includes(k);if(C&&T&&v.app.header.showRetailerChooser&&P)e((0,o.Nc)({track:!1}));else if(w?R=y:function(e){return p.any(e.match(/reorder\/|\/search\/|\/search_v3\/|\/partner_recipe_wip\/|\/partner_recipe_wip\?|\/multi_search\/|\/multi_search\?|\/favorites$|\/previously-ordered$/))}(y)&&(R=y.replace(y.split("/")[0],k),R=_.Z.removeQueryParameter(R,"aisle_id")),function(e){return p.any(e.match(/\/search\/|\/search_v3\//))}(y)&&(R=R.split("?")[0]),t.wind_down_container_path&&t.wind_down_container_path.includes("retailer-update"))e((0,l.c4)(t.wind_down_container_path,{trigger:!0}));else{e((0,i.Jt)(t.id,m)),w?Backbone.history.loadUrl(Backbone.history.fragment):e((0,l.c4)(R,{trigger:!0}));var E=t.attributes&&-1!==t.attributes.indexOf("popular"),S=E?"popular_present_selected":h&&!E?"popular_present_not_selected":"no_popular";e((0,s.d2)({warehouse_id:t.id})),e((0,n.Ee)()),e((0,o.Nc)({track:!1,forced:!0})),e((0,c.L)("nav","warehouse_change",{warehouse_id:t.id,previous_warehouse_id:f,inventory_area_id:u,source_type:a,source_value:S,source1:m})),d().remove("brand_new_account")}}};function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace,r=void 0!==t&&t;return function(e,t){var a=t().global.currentRetailer;return(0,l.c4)("".concat(a.slug,"/about"),{trigger:!0,replace:r},{modal:!0})}}},56533:(e,t,r)=>{"use strict";r.d(t,{a:()=>i,Z:()=>o});var a=r(1),n=r.n(a),i={type:n().string.isRequired,data:n().object};const o=n().shape(i)},80901:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(1),n=r.n(a),i={id:n().string.isRequired,attributes:n().arrayOf(n().string.isRequired).isRequired,business_name:n().string,address_line_1:n().string,address_line_2:n().string,zip_code:n().string,address_type:n().string,note:n().string,city:n().string,state:n().string,lat:n().number,lon:n().number,structured_address:n().arrayOf(n().string).isRequired};const o=n().shape(i)},66351:(e,t,r)=>{"use strict";r.d(t,{R:()=>i,Z:()=>o});var a=r(1),n=r.n(a),i={label:n().string.isRequired,color:n().string,accessible_color:n().string};const o=n().shape(i)},51572:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(1),n=r.n(a),i={alpha_2:n().string.isRequired,zip_code_pattern:n().string.isRequired,postal_code_max_length:n().number.isRequired,postal_code_min_length:n().number.isRequired};const o=n().shape(i)},37990:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(1),n=r.n(a),i={type:n().string,timestamp:n().number};const o=n().shape(i)},25531:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(1),n=r.n(a),i={strings:n().arrayOf(n().shape({attributes:n().arrayOf(n().string),value:n().string,color:n().string}).isRequired).isRequired};const o=n().shape(i)},23488:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(1),n=r.n(a),i={name:n().string.isRequired,color:n().string};const o=n().shape(i)},52263:(e,t,r)=>{"use strict";r.d(t,{V6:()=>a.Z,fN:()=>n.Z,RK:()=>i.Z,rC:()=>o.Z});var a=r(56533),n=(r(80901),r(66351),r(51572),r(37990),r(25531)),i=(r(23488),r(91562)),o=(r(35372),r(53778),r(47573));r(84638),r(73232),r(89683),r(74914),r(83636),r(72281),r(43978)},35372:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(1),n=r.n(a),i={type:n().string.isRequired,data:n().object.isRequired};const o=n().shape(i)},53778:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(1),n=r.n(a),i=r(35372);const o=n().arrayOf(i.Z)},47573:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var a=r(1),n=r.n(a),i=r(56533),o=r(72281),s=r(53778),c=r(91562),l=r(83636),u=n().arrayOf,d=n().number,_=n().string,p={attributes:u(_),click_action:i.Z,id:_.isRequired,image_list:u(c.Z),image:c.Z,interactions:s.Z,legacy_id:d,name:_,price_affix_aria:_,price_affix:_,pricing:l.ZP,qty_attributes:o.Z,size_aria:_,size:_};const g=n().shape(p)},84638:(e,t,r)=>{"use strict";r.d(t,{T:()=>c,Z:()=>l});var a=r(1),n=r.n(a),i=r(47573),o=r(23488),s=r(25531),c={item:i.Z,icon:o.Z,item_descriptor:s.Z,primary_details:s.Z,secondary_details:s.Z};const l=n().shape(c)},73232:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(1),n=r.n(a),i=r(56533),o={label:n().string,action:i.Z,icon:n().shape({name:n().string.isRequired,color:n().string})};const s=n().shape(o)},89683:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(1),n=r.n(a),i=r(47573),o={qty:n().number,item:i.Z};const s=n().shape(o)},74914:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var a=r(1),n=r.n(a),i=r(84638),o=r(43978),s=r(37990),c=r(23488),l=r(25531),u={header_text:l.Z,header_icon:c.Z,item_row:i.Z,secondary_header_text:l.Z,secondary_item_row:i.Z,typed_actions:n().arrayOf(o.Z),loading_data_dependencies:n().arrayOf(s.Z)};const d=n().shape(u)},83636:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>c});var a=r(1),n=r.n(a),i=n().string,o={type:i.isRequired,label:i.isRequired,action:i},s={badge:n().shape(o)};const c=n().shape(s)},72281:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(1),n=r.n(a),i={initial:n().number.isRequired,increment:n().number.isRequired,min:n().number.isRequired,max:n().number.isRequired,unit:n().string,unit_aria:n().string,select:n().shape({options:n().arrayOf(n().number.isRequired).isRequired,default_option:n().number.isRequired,custom_option:n().shape({label:n().string.isRequired}).isRequired})};const o=n().shape(i)},43978:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(1),n=r.n(a),i=r(73232),o={type:n().string.isRequired,label_action:i.Z};const s=n().shape(o)},48786:(e,t,r)=>{"use strict";r.d(t,{ng:()=>a,s6:()=>n,os:()=>i,_N:()=>o});var a=function(e){var t,r,a,n,i,o;return(null===(t=e.app)||void 0===t||null===(r=t.searchBar)||void 0===r?void 0:r.searchBarPlaceholderOverride)||(null===(a=e.global.appModules)||void 0===a||null===(n=a.header)||void 0===n||null===(i=n.data)||void 0===i||null===(o=i.search_bar)||void 0===o?void 0:o.placeholder_label)},n=function(e){var t,r,a,n;return null===(t=e.global.appModules)||void 0===t||null===(r=t.header)||void 0===r||null===(a=r.data)||void 0===a||null===(n=a.search_bar)||void 0===n?void 0:n.autocomplete_container_path},i=function(e){var t,r,a;return null===(t=e.global.appModules)||void 0===t||null===(r=t.header)||void 0===r||null===(a=r.data.search_bar)||void 0===a?void 0:a.autosuggest_v4},o=function(e){var t,r,a,n;return null===(t=e.global.appModules)||void 0===t||null===(r=t.header)||void 0===r||null===(a=r.data)||void 0===a||null===(n=a.search_bar)||void 0===n?void 0:n.search_button_label}},82631:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var a=r(80053),n=(r(0),r(45181)),i=r(1),o=r.n(i),s=r(11),c=r(7438),l=r(96524),u=r(67598),d=r(27888),_=r(55815),p=r(71272),g=r(75738),v=r(25789),h=r(48839),m=r(51176),f=r(22087),b=r(40273),y=r(36480),k=r(72853),R=r(35957),w=r(7054),T=r(52263),C=r(98995),P=r(48786),E=r(3);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I=function(e){var t=function(t,r){var a=ICStore.router.getCurrentRoute(r.path);if(a.handler&&a.handler.startsWith(":retailer_slug/")){var n=a.params[0],i=e.currentRetailer||{};n&&n!==i.slug&&e.updateGlobalState({current_retailer_slug:n})}if(r.display_path&&r.display_path!==r.path){if(t.preventDefault(),/search_v3\/.*\?num_other_warehouses/.test(r.path)||/buy_it_again/.test(r.path)){var o=Object.fromEntries(new URLSearchParams(r.path.split("?").pop()));return void e.navigate(r.display_path,{trigger:!0},{moduleFetchParams:o})}c.Z.getQueryParameter("cart_id")&&c.Z.getQueryParameter("token")||e.hideModal({skipReturnTo:!0}),e.navigate(r.display_path,{trigger:!1,replace:!1}),e.deactivateTabs(),ICStore.router.renderContainerForPath(r.path),ICStore.router.history.push(r.display_path)}},r=function(){var t=e.data;switch(e.type){case"dismiss_modal":return"";case"dismiss_incentive_modal":return e.currentFragment;case"navigate_to_root":return"#";case"navigate_to_unavailable":return"unavailable";case"navigate_to_container":return t.path;case"navigate_to_your_items":case"navigate_to_item_container":case"navigate_to_configurable_item_container":case"navigate_to_search":case"switch_retailer":return t.container.path;case"navigate_to_url":return t.url;case"navigate_to_guest_login":return"guest_login";case"navigate_to_item":var r=null,a=null,n=null;return t.tracking_params&&(r=t.tracking_params.item_card_impression_id,a=t.tracking_params.source_type,n=t.tracking_params.source_value),"items/".concat(t.item.id,"?item_card_impression_id=").concat(r,"&source_type=").concat(a,"&source_value=").concat(n).concat(t.entry_viewpoint?"#".concat(t.entry_viewpoint):"");case"navigate_to_recurring_order":case"navigate_to_wind_down_container":return t.container.path;case"navigate_to_alternate_retailers_offers":return"personalized_offers";case"navigate_to_special_request":return"".concat(e.currentRetailer.slug,"/special_requests?sg=").concat(t.query_params.sg);case"navigate_to_special_request_modal":return"".concat(e.currentRetailer.slug,"/special_request?sg=").concat(t.query_params.sg,"&term=").concat(t.query_params.term);case"navigate_to_browse":return"browse";case"navigate_to_checkout":return"checkout";case"navigate_to_welcome":return"welcome";case"navigate_to_checkout_v3":return"checkout_v3";case"navigate_to_checkout_as_guest":return"guest_checkout";case"navigate_to_order":return"orders/".concat(t.order.id);case"navigate_to_try_express":return"try-express";case"navigate_to_rating":return"".concat(t.rating.rating_url);case"navigate_to_referral":return"referrals";case"navigate_to_about_retailer":return"".concat(t.retailer.slug,"/about");case"navigate_to_retailer_info":return"".concat(t.retailer.slug,"/info?source_type=").concat(t.query_params.source_type);case"navigate_to_service_times":return"".concat(t.retailer.slug,"/info?tab=").concat(t.service_type);case"navigate_to_delivery_times":return"".concat(t.retailer.slug,"/delivery_times");case"navigate_to_reserve_option":return"".concat(t.retailer.slug,"/reserve_option");case"navigate_to_how_it_works":return"how_it_works";case"navigate_to_express":return"subscriptions/account?source_type=".concat(t.query_params.source_type);case"navigate_to_express_tier":return"express_tier?source_type=".concat(t.query_params.source_type);case"navigate_to_vehicle_info":return"pickup/vehicle_info/".concat(t.query_params.order_delivery_uuid);case"navigate_to_delegate_info":return"pickup/delegate_info/".concat(t.query_params.order_delivery_uuid);case"open_maps":return t.google_maps_url;case"focus_on_search":return"quick_search";case"item/create_recurring_order":return t.path;case"navigate_to_account":return"account/".concat(t.section);case"navigate_to_group_cart_info_modal":return"shop_with_friends";case"close_nested_container":return"".concat(e.currentFragment.split("?")[0],"/#");case"manage_cart":return"";case"navigate_to_store_and_open_cart":return t.path;default:return"#"}},a=function(r){var a=e.afterClick,n=e.data,i=e.moduleTrackingParams,o=e.type;e.stopPropagation&&r.stopPropagation(),function(r){var a=e.data;switch(e.type){case"app_reload":window.location.reload();break;case"open_cart":e.openCart();break;case"close_cart":r&&r.preventDefault(),e.closeCart();break;case"remove_unit_configuration":r&&r.preventDefault(),e.removeUnitConfiguration(a);break;case"duplicate_unit_configuration":r&&r.preventDefault(),e.duplicateUnitConfiguration(a);break;case"switch_cart":e.updateGlobalState({current_cart_id:a.cart_id});break;case"navigate_to_guest_login":e.navigate("/guest_login",{trigger:!0},{modal:!0});break;case"navigate_to_order":e.closeCart(),e.navigate("/orders/".concat(a.order.id),{trigger:!0});break;case"open_store_chooser":var n=e.server_action&&e.server_action.data,i=n&&n.container&&n.container.path;e.showRetailerChooser({containerPath:i});break;case"close_store_chooser":e.hideRetailerChooser({track:!0});break;case"manage_cart":e.setCartPath("cartManage",a);break;case"carts_list":e.setCartPath("cartsList"),r.preventDefault();break;case"cart_move_items":e.moveItems(a.cart_id);break;case"navigate_to_retailer_info":e.trayIsOpen&&e.hideTray();break;case"dismiss_modal":if(e.trayIsOpen)return void e.hideTray();"cart"===e.returnToContext&&e.openCart(),e.hideModal();break;case"dismiss_incentive_modal":e.hideModal();break;case"show_existing_shared_cart_modal":e.showExistingSharedCartModal();break;case"show_delivery_promotion_modal":case"show_finish_my_cart_modal":case"show_suggested_items_modal":r.preventDefault(),e.handleServerTriggeredAction(e);break;case"render_container":case"show_reorder_modal":r.preventDefault(),e.handleServerTriggeredAction(e);break;case"open_dialog_confirm":r.preventDefault();var o=e.data;e.showModal({modalType:"ConfirmationModal",modalProps:{title:o.header,description:o.subheader,confirmText:o.affirm_button_text,cancelText:o.reject_button_text,onConfirm:function(){e.trackAbstractEvent({event:"click",eventNames:o.affirm_action.data.tracking_event_names,trackingParams:o.affirm_action.data.tracking_params}),e.hideModal()}}});break;case"render_modal":var s=a.modal,l=a.context;r.preventDefault(),s.tracking_event_names&&s.tracking_params&&e.trackAbstractEvent({event:"view",eventNames:s.tracking_event_names,trackingParams:s.tracking_params}),e.showModal({modalType:"GenericTextModal",modalProps:O(O({},s),{},{returnToContext:l})});break;case"render_graphic_modal":var _=a.modal,p=a.context;r.preventDefault(),e.showModal({modalType:"GenericGraphicTextModal",modalProps:O(O({},_),{},{returnToContext:p})});break;case"show_shared_cart_info_modal":e.showSharedCartInfoModal();break;case"update_bundle":var g=a.params;r.preventDefault(),e.updateBundle(g);break;case"send_request":r.preventDefault(),e.handleServerTriggeredAction(e);break;case"send_request_for_incentive":var v=a.confirmation_data;r.preventDefault(),e.handleServerTriggeredAction(O(O({},e),{},{type:"send_request"})).then((function(){return e.showModal({modalType:"StorefrontIncentiveModal",modalProps:{contentLabel:v.container.title,containerPath:v.container.path,tracking_params:v.tracking_params,tracking_event_names:v.tracking_event_names}})}));break;case"update_generic_item":r.preventDefault(),e.handleServerTriggeredAction(O(O({},e),{},{type:"send_request"})).then((function(){return e.fetchRemoteCart()}));break;case"switch_retailer":var h=a.service_type;a.retailer.id,e.setCurrentRetailer(a.retailer.id,h),e.hideRetailerChooser({track:!1});break;case"switch_to_wind_down_retailer":e.setCurrentRetailer(a.retailer.id),(0,u.Z)(a.update_path,{method:"POST",data:{}}).then((function(e){}));break;case"navigate_to_welcome":e.navigate("welcome",{trigger:!0,replace:!1});break;case"navigate_to_item":var m=e.currentRetailer||{};a.retailer&&a.retailer.slug!==m.slug&&e.navigateToRetailer(a);break;case"navigate_to_item_container":var f=a.container.path;if(!f)return;e.navigateToItem(O({path:f},a));break;case"navigate_to_container_and_change_retailer":e.setCurrentRetailer(a.retailer.id,null,{disableRouteSideEffects:!0}),a.display_path&&a.path&&(r.preventDefault(),(0,b.D)({event:"click",eventNames:a.tracking_event_names,trackingParams:O(O({},e.tracking_params),a.tracking_params)}),c.Z.getQueryParameter("cart_id")&&c.Z.getQueryParameter("token")||e.hideModal({skipReturnTo:!0}),e.navigate(a.path,{trigger:!0,replace:!1}),e.deactivateTabs(),ICStore.router.history.push(a.display_path)),e.closeCart();break;case"navigate_to_store_and_open_cart":t(r,a),e.openCart();break;case"navigate_to_container":a.dismiss_modal&&e.hideModal(),t(r,a),e.closeCart();break;case"navigate_to_your_items":e.updateFilter(a.selected_filter),t(r,a),e.closeCart();break;case"navigate_to_configurable_item_container":t(r,a),e.closeCart();break;case"navigate_to_wind_down_container":a.path&&(r&&r.preventDefault(),e.hideModal({skipReturnTo:!0}),e.navigate(a.display_path,{trigger:!1,replace:!1}),e.deactivateTabs(),ICStore.router.renderContainerForPath(a.path),ICStore.router.history.push(a.path)),e.closeCart();break;case"render_replacements_container":r&&r.preventDefault();var y=a.container.path;(!y||"string"==typeof y&&-1!==y.indexOf("undefined"))&&d.Z.info("render_replacements_container action handler bad container path",{data:a});var k=new URLSearchParams(y.split("?")[1]).get("context");-1!==y.indexOf("?")&&"item_container_select_replacement"===k?e.showModal({displayUrl:y}):e.showModal({modalType:"ChangeReplacementsModalContainerRenderer",modalProps:{containerPath:y}});break;case"navigate_to_special_request_modal":r&&r.preventDefault();var R="".concat(e.currentRetailer.slug,"/special_request?sg=").concat(a.query_params.sg,"&term=").concat(a.query_params.term);e.navigate(R,{trigger:!0,replace:!1});break;case"change_zip_code":r&&r.preventDefault(),e.openChangeLocationModal({source:"zip_needed"});break;case"navigate_to_recurring_order":case"navigate_to_try_express":case"navigate_to_checkout":case"navigate_to_checkout_as_guest":e.hideTray(),e.closeCart();break;case"navigate_to_checkout_v3":e.hideTray(),e.closeCart(),e.handleServerTriggeredAction(e);break;case"add_to_order_delivery_in_progress":r.preventDefault();var w=a.add_to_order_in_progress_containers;1===w.length?e.showModal({modalType:"ModalContainerRenderer",modalProps:{containerPath:w[0].path,modalStyles:{maxColumns:6}}}):e.showModal({modalType:"ChooseOrderToAddModal",modalProps:{containers:w}});break;case"item/add_to_recurring_order":r.preventDefault(),e.trackAbstractEvent({event:"add_item",eventNames:e.tracking_event_names,trackingParams:e.tracking_params}),(0,u.Z)(a.creation_path,{method:"POST",data:{item_id:a.item_id,qty:1}}).then((function(t){t&&t.meta&&t.meta.triggered_action&&e.handleServerTriggeredAction(t.meta.triggered_action)})).catch((function(t){t&&t.meta&&t.meta.triggered_action&&e.handleServerTriggeredAction(t.meta.triggered_action)}));break;case"item/create_recurring_order":e.trackAbstractEvent({event:"add_item",eventNames:e.tracking_event_names,trackingParams:e.tracking_params}),e.hideTray(),e.closeCart();break;case"step_transition":r.preventDefault();break;case"express_placement_modal":case"express_placement_modal_sheet":case"express_stepwizard_modal":r.preventDefault(),e.handleServerTriggeredAction(e);break;case"open_pickup_location_chooser":r.preventDefault(),(0,b.D)({event:"click",eventNames:e.data.tracking_event_names,trackingParams:e.data.tracking_params}),e.hideModal&&e.hideModal(),e.handleServerTriggeredAction(e.server_action);break;case"close_nested_container":e.hideModal();break;case"show_tray":r.preventDefault();var T=function(){e.showTray({trayType:e.data.container.tray_type||"TrayContainerRenderer",trayProps:{className:"LoyaltyCardTray",contentLabel:e.data.container.title,containerPath:e.data.container.path}})};e.trayIsOpen?(e.hideTray(),window.setTimeout(T,250)):T();break;case"hide_tray":r.preventDefault(),e.hideTray();break;case"navigate_to_generic_item_request":r.preventDefault(),e.showModal({modalType:"GenericItemRequestModal",modalProps:{containerPath:e.data.container.path}});break;case"show_promo_code_modal":r.preventDefault(),e.showModal({modalType:"CouponModal",modalProps:a});break;case"bootstrap_scandit":r.preventDefault(),e.showModal({modalType:"ScanditModal",modalProps:O({},a)});break;case"show_manual_customer_id_form":r.preventDefault(),e.showModal({modalType:"ManualCustomerIdModal",modalProps:O({},a)});break;case"navigate_to_customer_support":r.preventDefault(),e.handleServerTriggeredAction(e);break;case"prevent_default_action":r.preventDefault()}}(r),n&&e.trackAbstractEvent({event:"click",eventNames:n.tracking_event_names,trackingParams:O(O({},i),n.tracking_params)}),a&&a({type:o,data:n,event:r}),c.Z.routeAnchorLinkEvent(r)};if(e.render)return e.render({onClick:a});var n,i,o,s,l=r(),p=l||!e.elementType?"a":e.elementType,g=(n=e.backboneStarted,i=e.currentFragment,o=e.matchExactURL,s=r(),!!n&&(o?s===i:s===i.split("?")[0])),v="button"===e.elementType,h=e.aria,m=v?{backgroundColor:e.snacksTheme.colors.action,borderColor:e.snacksTheme.colors.action,":hover":{backgroundColor:e.snacksTheme.colors.actionHover,borderColor:e.snacksTheme.colors.actionHover}}:{color:e.snacksTheme.colors.action,":hover":{color:e.snacksTheme.colors.actionHover}},f={title:e.anchorTitle,tabIndex:e.tabIndex,role:h?h.role:null,"aria-hidden":h?h.hidden:null,"aria-label":h?h.label:null,"aria-labelledby":h?h.labelledby:null,"aria-describedby":h?h.describedby:null,className:e.className,rel:function(){switch(e.type){case"navigate_to_url":return"nofollow noopener noreferrer";default:return null}}(),target:function(){var t=e.data;switch(e.type){case"navigate_to_url":var r=t.target;return void 0===r?"_blank":r;case"navigate_to_account":return t.target;case"open_maps":return"_blank";default:return null}}()},y=function(e){switch(e.type){case"open_mobile_search":var t=e.searchPlaceholderLabel;return{to:O({state:{overlayContentLabel:t,overlayProps:{autocompleteContainerPath:e.autocompleteContainerPath,placeholderText:t},overlayType:e.isAutosuggestV4Enabled?"mobileSearchBarV4":"mobileSearchBar"}},"undefined"!=typeof window&&{search:window.location.search,hash:window.location.hash})};default:return}}(e);return void 0!==y?(0,E.tZ)(_.Link,S({style:O(O(O({},m),e.style),g?e.activeStyle:e.inactiveStyle)},f,y),e.children):(0,E.tZ)(p,S({},f,{style:[m,e.style,g?e.activeStyle:e.inactiveStyle],href:l,onClick:a,"data-bypass":e.dataBypass}),e.children)};I.propTypes={openCart:o().func.isRequired,closeCart:o().func.isRequired,setCartPath:o().func.isRequired,showSharedCartInfoModal:o().func.isRequired,showExistingSharedCartModal:o().func.isRequired,moveItems:o().func.isRequired,navigate:o().func.isRequired,openChangeLocationModal:o().func.isRequired,setCurrentRetailer:o().func.isRequired,updateGlobalState:o().func.isRequired,updateBundle:o().func.isRequired,navigateToRetailer:o().func.isRequired,showModal:o().func.isRequired,hideModal:o().func.isRequired,handleServerTriggeredAction:o().func.isRequired,trackAbstractEvent:o().func.isRequired,showRetailerChooser:o().func.isRequired,deactivateTabs:o().func.isRequired,activeStyle:o().object,afterClick:o().func,anchorTitle:o().string,aria:o().shape({describedby:o().string,label:o().string,labelledby:o().string}),backboneStarted:o().bool,className:o().string,currentFragment:o().string,currentRetailer:o().object,data:o().shape({path:o().string,url:o().string,order:o().object,rating:o().object}),dataBypass:o().bool,elementType:o().string,matchExactURL:o().bool,moduleTrackingParams:o().object,render:o().func,snacksTheme:o().object,stopPropagation:o().bool,style:o().object,tabIndex:o().string,type:o().string.isRequired,server_action:T.V6,location:o().object,history:o().object,searchPlaceholderLabel:o().string,autocompleteContainerPath:o().string,isAutosuggestV4Enabled:o().bool},I.defaultProps={dataBypass:!1};var M={openCart:g.LA,closeCart:g.Ee,setCartPath:v.QX,showSharedCartInfoModal:v.xo,showExistingSharedCartModal:v.wQ,moveItems:v.B6,navigate:y.c4,openChangeLocationModal:h.KI,setCurrentRetailer:k.Jt,updateGlobalState:k.tr,updateBundle:k.jG,navigateToRetailer:p.P4,showModal:R.K,hideModal:R.V,handleServerTriggeredAction:f.pn,trackAbstractEvent:b.D,showRetailerChooser:w.BO,hideRetailerChooser:w.Nc,deactivateTabs:w.bU,showTray:C.T,hideTray:C.h,removeUnitConfiguration:g.vt,duplicateUnitConfiguration:g.XK,navigateToItem:h.H4,fetchRemoteCart:g.gH,updateFilter:m.a8};const A=(0,n.connect)((function(e){var t=a.Z.History.started||!1;return{backboneStarted:t,currentRetailer:e.global.currentRetailer,currentFragment:t&&a.Z.history.getFragment()||"",trayIsOpen:!!e.app&&!!e.app.tray&&null!==e.app.tray.trayType,searchPlaceholderLabel:(0,P.ng)(e),isAutosuggestV4Enabled:(0,P.os)(e),autocompleteContainerPath:(0,P.s6)(e)}}),M)((0,l.withTheme)((0,s.ZP)(I)))}}]);